
# SMS HTTP API

## Общие положения
SMS HTTP API — это простой протокол обмена сообщения с платформой SMS Centre Ukraine Ltd, который использует именованные параметры для формирования сообщений. Всё взаимодействие с программой осуществляется посредством HTTP-протокола, методом POST или GET.


## Схема взаимодействия
1. Отправитель создает запрос с именованными параметрами.
Поддерживаются две кодировки: UTF-8 и WINDOWS-1251
2. Отправитель создает HTTP соединение к адресу URL получателя.
3. Отправитель отсылает HTTP POST или GET запрос, который содержит в себе именованные параметры и их значения.
4. Получатель проверяет «валидность» параметров и отправителя, затем генерирует
ответ.
5. Получатель закрывает HTTP соединение.


## Адрес сервера
http://api.smscentre.com.ua/http/


## Описание команд

### submit_sm
Отправка СМС сообщения.

Запрос
http://api.smscentre.com.ua/http/submit_sm.php?login=demo&passwd=demo&destaddr=%2B380667412691&msgtext=GO%20TEST&msgchrset=lat

http://api.smscentre.com.ua/http/submit_sm.php?login=demo&passwd=demo&alphaname=SMS Centre&destaddr=%2B380667412691&msgtext=GO%20TEST%202&msgchrset=lat

Параметры
login — содержит имя входа, которое определяет уровень доступа, к сервису.
passwd — содержит пароль, который определяет уровень доступа, к сервису.
alphaname - содержит альфаимя отправителя.
destaddr — телефонный номер адресата СМС.
msgtext — содержит текст.
msgchrset — содержит параметр указывающий кодировку сообщения (cyr, lat).

Ответ
RETURNCODE=00
SMSID=40

Ответ содержит идентификатор отосланного СМС smsid по идентификации сервера.
RETURNCODE — содержит код результата выполнения запроса.

### query_sm
Запрос статуса СМС сообщения.

Запрос
http://api.smscentre.com.ua/http/query_sm.php?login=demo&passwd=demo&smsid=40

Параметры
login — содержит имя входа, которое определяет уровень доступа, к сервису.
passwd — содержит пароль, который определяет уровень доступа, к сервису.
smsid — идентификатор СМС по идентификации сервера.

Ответ
RETURNCODE=00
SMSSTATE= DELIVERED

Ответ содержит статус СМС SMSSTATE.
RETURNCODE — содержит код результата выполнения запроса.

Коды результатов выполнения запроса
     - 00 – запрос успешно обработан
     - 01 - неверные значения параметров или недостаточное кол-во параметров
     - 02 - ошибка соединения с сервером баз данных
     - 03 - не найдена база данных
     - 04 - сбой процедуры авторизации
     - 05 - неверное имя пользователя или пароль
     - 06 – ошибка выполнения операции

Статусы СМС
     - TOSEND - сообщение находится в очереди на отправку
     - ENROUTE - сообщение отправлено, но еще не доставлено адресату
     - PAUSED - отправка сообщения приостановлена
     - CANCELED - отправка сообщения отменена
     - DELIVERED - сообщение доставлено адресату
     - FAILED - ошибка отправки сообщения
     - EXPIRED - сообщение не доставлено адресату - истек срок доставки
     - UNDELIVERABLE - сообщение не может быть доставлено адресату
     - REJECTED - сообщение отклонено сервером
     - BADCOST - сообщение не доставлено адресату - не определена стоимость сообщения
     - UNKNOWN - состояние сообщения не определено

